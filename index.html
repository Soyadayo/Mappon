<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Capital City Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        #map {
            height: 500px;
            width: 80%;
            max-width: 800px;
            border: 2px solid #333;
            border-radius: 8px;
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        #info {
            margin-top: 10px;
            font-size: 18px;
            color: #333;
        }
    </style>
</head>
<body>
    <button onclick="selectRandomCapital()">Select Random Capital</button>
    <div id="info">Click the button to select a random capital city!</div>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Initialize the map
        const map = L.map('map').setView([0, 0], 2);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // GeoJSON data
        const capitals = {
            "type": "FeatureCollection",
            "features": [
                {"properties":{"country":"Bangladesh","city":"Dhaka","tld":"bd","iso3":"BGD","iso2":"BD"},"geometry":{"coordinates":[90.24,23.43],"type":"Point"},"id":"BD"},
                {"properties":{"country":"Belgium","city":"Brussels","tld":"be","iso3":"BEL","iso2":"BE"},"geometry":{"coordinates":[4.2,50.5],"type":"Point"},"id":"BE"},
                {"properties":{"country":"Burkina Faso","city":"Ouagadougou","tld":"bf","iso3":"BFA","iso2":"BF"},"geometry":{"coordinates":[-1.31,12.22],"type":"Point"},"id":"BF"},
                {"properties":{"country":"Bulgaria","city":"Sofia","tld":"bg","iso3":"BGR","iso2":"BG"},"geometry":{"coordinates":[23.19,42.41],"type":"Point"},"id":"BG"},
                {"properties":{"country":"Bosnia and Herzegovina","city":"Sarajevo","tld":"ba","iso3":"BIH","iso2":"BA"},"geometry":{"coordinates":[18.25,43.52],"type":"Point"},"id":"BA"},
                {"properties":{"country":"Barbados","city":"Bridgetown","tld":"bb","iso3":"BRB","iso2":"BB"},"geometry":{"coordinates":[-59.37,13.06],"type":"Point"},"id":"BB"},
                {"properties":{"country":"Wallis and Futuna","city":"Mata-Utu","tld":"wf","iso3":"WLF","iso2":"WF"},"geometry":{"coordinates":[-171.56,-13.57],"type":"Point"},"id":"WF"},
                {"properties":{"country":"Saint Barthelemy","city":"Gustavia","tld":"bl","iso3":"BLM","iso2":"BL"},"geometry":{"coordinates":[-62.51,17.53],"type":"Point"},"id":"BL"},
                {"properties":{"country":"Bermuda","city":"Hamilton","tld":"bm","iso3":"BMU","iso2":"BM"},"geometry":{"coordinates":[-64.47,32.17],"type":"Point"},"id":"BM"},
                {"properties":{"country":"Brunei","city":"Bandar Seri Begawan","tld":"bn","iso3":"BRN","iso2":"BN"},"geometry":{"coordinates":[114.56,4.53],"type":"Point"},"id":"BN"},
                {"properties":{"country":"Bolivia","city":"La Paz","tld":"bo","iso3":"BOL","iso2":"BO"},"geometry":{"coordinates":[-68.09,-16.3],"type":"Point"},"id":"BO"},
                {"properties":{"country":"Bahrain","city":"Manama","tld":"bh","iso3":"BHR","iso2":"BH"},"geometry":{"coordinates":[50.34,26.14],"type":"Point"},"id":"BH"},
                {"properties":{"country":"Burundi","city":"Bujumbura","tld":"bi","iso3":"BDI","iso2":"BI"},"geometry":{"coordinates":[29.21,-3.22],"type":"Point"},"id":"BI"},
                {"properties":{"country":"Benin","city":"Porto-Novo","tld":"bj","iso3":"BEN","iso2":"BJ"},"geometry":{"coordinates":[2.37,6.29],"type":"Point"},"id":"BJ"},
                {"properties":{"country":"Bhutan","city":"Thimphu","tld":"bt","iso3":"BTN","iso2":"BT"},"geometry":{"coordinates":[89.36,27.29],"type":"Point"},"id":"BT"},
                {"properties":{"country":"Jamaica","city":"Kingston","tld":"jm","iso3":"JAM","iso2":"JM"},"geometry":{"coordinates":[-76.48,18],"type":"Point"},"id":"JM"},
                {"properties":{"country":"Bouvet Island","tld":"bv","iso3":"BVT","iso2":"BV"},"geometry":{"coordinates":[3.24,-54.26],"type":"Point"},"id":"BV"},
                {"properties":{"country":"Botswana","city":"Gaborone","tld":"bw","iso3":"BWA","iso2":"BW"},"geometry":{"coordinates":[25.55,-24.45],"type":"Point"},"id":"BW"},
                {"properties":{"country":"Samoa","city":"Apia","tld":"ws","iso3":"WSM","iso2":"WS"},"geometry":{"coordinates":[-171.44,-13.5],"type":"Point"},"id":"WS"},
                {"properties":{"country":"Brazil","city":"Brasilia","tld":"br","iso3":"BRA","iso2":"BR"},"geometry":{"coordinates":[-47.55,-15.47],"type":"Point"},"id":"BR"},
                {"properties":{"country":"Bahamas","city":"Nassau","tld":"bs","iso3":"BHS","iso2":"BS"},"geometry":{"coordinates":[-77.21,25.05],"type":"Point"},"id":"BS"},
                {"properties":{"country":"Jersey","city":"Saint Helier","tld":"je","iso3":"JEY","iso2":"JE"},"geometry":{"coordinates":[-2.06,49.11],"type":"Point"},"id":"JE"},
                {"properties":{"country":"Belarus","city":"Minsk","tld":"by","iso3":"BLR","iso2":"BY"},"geometry":{"coordinates":[27.34,53.54],"type":"Point"},"id":"BY"},
                {"properties":{"country":"Belize","city":"Belmopan","tld":"bz","iso3":"BLZ","iso2":"BZ"},"geometry":{"coordinates":[-88.46,17.15],"type":"Point"},"id":"BZ"},
                {"properties":{"country":"Russia","city":"Moscow","tld":"ru","iso3":"RUS","iso2":"RU"},"geometry":{"coordinates":[37.35,55.45],"type":"Point"},"id":"RU"},
                {"properties":{"country":"Rwanda","city":"Kigali","tld":"rw","iso3":"RWA","iso2":"RW"},"geometry":{"coordinates":[30.04,-1.57],"type":"Point"},"id":"RW"},
                {"properties":{"country":"Serbia","city":"Belgrade","tld":"rs","iso3":"SRB","iso2":"RS"},"geometry":{"coordinates":[20.3,44.5],"type":"Point"},"id":"RS"},
                {"properties":{"country":"Timor-Leste","city":"Dili","tld":"tl","iso3":"TLS","iso2":"TL"},"geometry":{"coordinates":[125.36,-8.35],"type":"Point"},"id":"TL"},
                {"properties":{"country":"Turkmenistan","city":"Ashgabat","tld":"tm","iso3":"TKM","iso2":"TM"},"geometry":{"coordinates":[58.23,37.57],"type":"Point"},"id":"TM"},
                {"properties":{"country":"Tajikistan","city":"Dushanbe","tld":"tj","iso3":"TJK","iso2":"TJ"},"geometry":{"coordinates":[68.48,38.35],"type":"Point"},"id":"TJ"},
                {"properties":{"country":"Romania","city":"Bucharest","tld":"ro","iso3":"ROU","iso2":"RO"},"geometry":{"coordinates":[26.06,44.26],"type":"Point"},"id":"RO"},
                {"properties":{"country":"Tokelau","tld":"tk","iso3":"TKL","iso2":"TK"},"geometry":{"coordinates":[-172,-9],"type":"Point"},"id":"TK"},
                {"properties":{"country":"Guinea-Bissau","city":"Bissau","tld":"gw","iso3":"GNB","iso2":"GW"},"geometry":{"coordinates":[-15.35,11.51],"type":"Point"},"id":"GW"},
                {"properties":{"country":"Guam","city":"Hagatna","tld":"gu","iso3":"GUM","iso2":"GU"},"geometry":{"coordinates":[144.44,13.28],"type":"Point"},"id":"GU"},
                {"properties":{"country":"Guatemala","city":"Guatemala City","tld":"gt","iso3":"GTM","iso2":"GT"},"geometry":{"coordinates":[-90.31,14.37],"type":"Point"},"id":"GT"},
                {"properties":{"country":"Greece","city":"Athens","tld":"gr","iso3":"GRC","iso2":"GR"},"geometry":{"coordinates":[23.44,37.59],"type":"Point"},"id":"GR"},
                {"properties":{"country":"Equatorial Guinea","city":"Malabo","tld":"gq","iso3":"GNQ","iso2":"GQ"},"geometry":{"coordinates":[8.47,3.45],"type":"Point"},"id":"GQ"},
                {"properties":{"country":"Japan","city":"Tokyo","tld":"jp","iso3":"JPN","iso2":"JP"},"geometry":{"coordinates":[139.45,35.41],"type":"Point"},"id":"JP"},
                {"properties":{"country":"Guyana","city":"Georgetown","tld":"gy","iso3":"GUY","iso2":"GY"},"geometry":{"coordinates":[-58.1,6.48],"type":"Point"},"id":"GY"},
                {"properties":{"country":"Guernsey","city":"Saint Peter Port","tld":"gg","iso3":"GGY","iso2":"GG"},"geometry":{"coordinates":[-2.32,49.27],"type":"Point"},"id":"GG"},
                {"properties":{"country":"Georgia","city":"T'bilisi","tld":"ge","iso3":"GEO","iso2":"GE"},"geometry":{"coordinates":[44.47,41.43],"type":"Point"},"id":"GE"},
                {"properties":{"country":"Grenada","city":"Saint George's","tld":"gd","iso3":"GRD","iso2":"GD"},"geometry":{"coordinates":[-61.45,12.03],"type":"Point"},"id":"GD"},
                {"properties":{"country":"United Kingdom","city":"London","tld":"uk","iso3":"GBR","iso2":"GB"},"geometry":{"coordinates":[-0.1,51.3],"type":"Point"},"id":"GB"},
                {"properties":{"country":"Gabon","city":"Libreville","tld":"ga","iso3":"GAB","iso2":"GA"},"geometry":{"coordinates":[9.27,0.23],"type":"Point"},"id":"GA"},
                {"properties":{"country":"El Salvador","city":"San Salvador","tld":"sv","iso3":"SLV","iso2":"SV"},"geometry":{"coordinates":[-89.12,13.42],"type":"Point"},"id":"SV"},
                {"properties":{"country":"Guinea","city":"Conakry","tld":"gn","iso3":"GIN","iso2":"GN"},"geometry":{"coordinates":[-13.42,9.33],"type":"Point"},"id":"GN"},
                {"properties":{"country":"Gambia","city":"Banjul","tld":"gm","iso3":"GMB","iso2":"GM"},"geometry":{"coordinates":[-16.34,13.27],"type":"Point"},"id":"GM"},
                {"properties":{"country":"Greenland","city":"Nuuk","tld":"gl","iso3":"GRL","iso2":"GL"},"geometry":{"coordinates":[-51.45,64.11],"type":"Point"},"id":"GL"},
                {"properties":{"country":"Gibraltar","city":"Gibraltar","tld":"gi","iso3":"GIB","iso2":"GI"},"geometry":{"coordinates":[-5.21,36.08],"type":"Point"},"id":"GI"},
                {"properties":{"country":"Ghana","city":"Accra","tld":"gh","iso3":"GHA","iso2":"GH"},"geometry":{"coordinates":[-0.13,5.33],"type":"Point"},"id":"GH"},
                {"properties":{"country":"Oman","city":"Muscat","tld":"om","iso3":"OMN","iso2":"OM"},"geometry":{"coordinates":[58.35,23.37],"type":"Point"},"id":"OM"},
                {"properties":{"country":"Tunisia","city":"Tunis","tld":"tn","iso3":"TUN","iso2":"TN"},"geometry":{"coordinates":[10.11,36.48],"type":"Point"},"id":"TN"},
                {"properties":{"country":"Jordan","city":"Amman","tld":"jo","iso3":"JOR","iso2":"JO"},"geometry":{"coordinates":[35.56,31.57],"type":"Point"},"id":"JO"},
                {"properties":{"country":"Croatia","city":"Zagreb","tld":"hr","iso3":"HRV","iso2":"HR"},"geometry":{"coordinates":[16,45.48],"type":"Point"},"id":"HR"},
                {"properties":{"country":"Haiti","city":"Port-au-Prince","tld":"ht","iso3":"HTI","iso2":"HT"},"geometry":{"coordinates":[-72.2,18.32],"type":"Point"},"id":"HT"},
                {"properties":{"country":"Hungary","city":"Budapest","tld":"hu","iso3":"HUN","iso2":"HU"},"geometry":{"coordinates":[19.05,47.3],"type":"Point"},"id":"HU"},
                {"properties":{"country":"Hong Kong","city":"Hong Kong","tld":"hk","iso3":"HKG","iso2":"HK"},"geometry":{"coordinates":[114.1,22.15],"type":"Point"},"id":"HK"},
                {"properties":{"country":"Honduras","city":"Tegucigalpa","tld":"hn","iso3":"HND","iso2":"HN"},"geometry":{"coordinates":[-87.13,14.06],"type":"Point"},"id":"HN"},
                {"properties":{"country":"Heard Island and McDonald Islands","tld":"hm","iso3":"HMD","iso2":"HM"},"geometry":{"coordinates":[72.31,-53.06],"type":"Point"},"id":"HM"},
                {"properties":{"country":"Venezuela","city":"Caracas","tld":"ve","iso3":"VEN","iso2":"VE"},"geometry":{"coordinates":[-66.56,10.3],"type":"Point"},"id":"VE"},
                {"properties":{"country":"Puerto Rico","city":"San Juan","tld":"pr","iso3":"PRI","iso2":"PR"},"geometry":{"coordinates":[-66.07,18.28],"type":"Point"},"id":"PR"},
                {"properties":{"country":"Palestinian Territory","tld":"ps","iso3":"PSE","iso2":"PS"},"geometry":{"coordinates":[34.2,31.25],"type":"Point"},"id":"PS"},
                {"properties":{"country":"Palau","city":"Melekeok","tld":"pw","iso3":"PLW","iso2":"PW"},"geometry":{"coordinates":[134.38,7.29],"type":"Point"},"id":"PW"},
                {"properties":{"country":"Portugal","city":"Lisbon","tld":"pt","iso3":"PRT","iso2":"PT"},"geometry":{"coordinates":[-9.08,38.43],"type":"Point"},"id":"PT"},
                {"properties":{"country":"Svalbard","city":"Longyearbyen","tld":"sj","iso3":"SJM","iso2":"SJ"},"geometry":{"coordinates":[15.33,78.13],"type":"Point"},"id":"SJ"},
                {"properties":{"country":"Paraguay","city":"Asuncion","tld":"py","iso3":"PRY","iso2":"PY"},"geometry":{"coordinates":[-57.4,-25.16],"type":"Point"},"id":"PY"},
                {"properties":{"country":"Iraq","city":"Baghdad","tld":"iq","iso3":"IRQ","iso2":"IQ"},"geometry":{"coordinates":[44.23,33.2],"type":"Point"},"id":"IQ"},
                {"properties":{"country":"Panama","city":"Panama City","tld":"pa","iso3":"PAN","iso2":"PA"},"geometry":{"coordinates":[-79.32,8.58],"type":"Point"},"id":"PA"},
                {"properties":{"country":"French Polynesia","city":"Papeete","tld":"pf","iso3":"PYF","iso2":"PF"},"geometry":{"coordinates":[-149.34,-17.32],"type":"Point"},"id":"PF"},
                {"properties":{"country":"Papua New Guinea","city":"Port Moresby","tld":"pg","iso3":"PNG","iso2":"PG"},"geometry":{"coordinates":[147.1,-9.3],"type":"Point"},"id":"PG"},
                {"properties":{"country":"Peru","city":"Lima","tld":"pe","iso3":"PER","iso2":"PE"},"geometry":{"coordinates":[-77.03,-12.03],"type":"Point"},"id":"PE"},
                {"properties":{"country":"Pakistan","city":"Islamabad","tld":"pk","iso3":"PAK","iso2":"PK"},"geometry":{"coordinates":[73.1,33.42],"type":"Point"},"id":"PK"},
                {"properties":{"country":"Philippines","city":"Manila","tld":"ph","iso3":"PHL","iso2":"PH"},"geometry":{"coordinates":[121,14.35],"type":"Point"},"id":"PH"},
                {"properties":{"country":"Pitcairn","city":"Adamstown","tld":"pn","iso3":"PCN","iso2":"PN"},"geometry":{"coordinates":[-130.05,-25.04],"type":"Point"},"id":"PN"},
                {"properties":{"country":"Poland","city":"Warsaw","tld":"pl","iso3":"POL","iso2":"PL"},"geometry":{"coordinates":[21,52.15],"type":"Point"},"id":"PL"},
                {"properties":{"country":"Saint Pierre and Miquelon","city":"Saint-Pierre","tld":"pm","iso3":"SPM","iso2":"PM"},"geometry":{"coordinates":[-56.11,46.46],"type":"Point"},"id":"PM"},
                {"properties":{"country":"Zambia","city":"Lusaka","tld":"zm","iso3":"ZMB","iso2":"ZM"},"geometry":{"coordinates":[28.17,-15.25],"type":"Point"},"id":"ZM"},
                {"properties":{"country":"Western Sahara","tld":"eh","iso3":"ESH","iso2":"EH"},"geometry":{"coordinates":[-13,24.3],"type":"Point"},"id":"EH"},
                {"properties":{"country":"Estonia","city":"Tallinn","tld":"ee","iso3":"EST","iso2":"EE"},"geometry":{"coordinates":[24.43,59.26],"type":"Point"},"id":"EE"},
                {"properties":{"country":"Egypt","city":"Cairo","tld":"eg","iso3":"EGY","iso2":"EG"},"geometry":{"coordinates":[31.15,30.03],"type":"Point"},"id":"EG"},
                {"properties":{"country":"South Africa","city":"Pretoria","tld":"za","iso3":"ZAF","iso2":"ZA"},"geometry":{"coordinates":[28.13,-25.42],"type":"Point"},"id":"ZA"},
                {"properties":{"country":"Ecuador","city":"Quito","tld":"ec","iso3":"ECU","iso2":"EC"},"geometry":{"coordinates":[-78.3,-0.13],"type":"Point"},"id":"EC"},
                {"properties":{"country":"Italy","city":"Rome","tld":"it","iso3":"ITA","iso2":"IT"},"geometry":{"coordinates":[12.29,41.54],"type":"Point"},"id":"IT"},
                {"properties":{"country":"Vietnam","city":"Hanoi","tld":"vn","iso3":"VNM","iso2":"VN"},"geometry":{"coordinates":[105.51,21.02],"type":"Point"},"id":"VN"},
                {"properties":{"country":"Solomon Islands","city":"Honiara","tld":"sb","iso3":"SLB","iso2":"SB"},"geometry":{"coordinates":[159.57,-9.26],"type":"Point"},"id":"SB"},
                {"properties":{"country":"European Union","tld":"eu","iso3":"N/A","iso2":"EU"},"geometry":{"coordinates":[9.9,50.1021],"type":"Point"},"id":"EU"},
                {"properties":{"country":"Ethiopia","city":"Addis Ababa","tld":"et","iso3":"ETH","iso2":"ET"},"geometry":{"coordinates":[38.42,9.02],"type":"Point"},"id":"ET"},
                {"properties":{"country":"Somalia","city":"Mogadishu","tld":"so","iso3":"SOM","iso2":"SO"},"geometry":{"coordinates":[45.22,2.04],"type":"Point"},"id":"SO"},
                {"properties":{"country":"Zimbabwe","city":"Harare","tld":"zw","iso3":"ZWE","iso2":"ZW"},"geometry":{"coordinates":[31.03,-17.5],"type":"Point"},"id":"ZW"},
                {"properties":{"country":"Saudi Arabia","city":"Riyadh","tld":"sa","iso3":"SAU","iso2":"SA"},"geometry":{"coordinates":[46.43,24.38],"type":"Point"},"id":"SA"},
                {"properties":{"country":"Spain","city":"Madrid","tld":"es","iso3":"ESP","iso2":"ES"},"geometry":{"coordinates":[-3.41,40.24],"type":"Point"},"id":"ES"},
                {"properties":{"country":"Eritrea","city":"Asmara","tld":"er","iso3":"ERI","iso2":"ER"},"geometry":{"coordinates":[38.56,15.2],"type":"Point"},"id":"ER"},
                {"properties":{"country":"Montenegro","city":"Podgorica","tld":"me","iso3":"MNE","iso2":"ME"},"geometry":{"coordinates":[19.16,42.26],"type":"Point"},"id":"ME"},
                {"properties":{"country":"Moldova","city":"Chisinau","tld":"md","iso3":"MDA","iso2":"MD"},"geometry":{"coordinates":[28.51,47],"type":"Point"},"id":"MD"},
                {"properties":{"country":"Madagascar","city":"Antananarivo","tld":"mg","iso3":"MDG","iso2":"MG"},"geometry":{"coordinates":[47.31,-18.55],"type":"Point"},"id":"MG"},
                {"properties":{"country":"Saint Martin","city":"Marigot","tld":"mf","iso3":"MAF"},"geometry":{"coordinates":[-63.05,18.04],"type":"Point"},"id":"MF"},
                {"properties":{"country":"Morocco","city":"Rabat","tld":"ma","iso3":"MAR","iso2":"MA"},"geometry":{"coordinates":[-6.49,34.01],"type":"Point"},"id":"MA"},
                // ... (Continue with the rest of the GeoJSON data, ensuring all entries are included)
            ]
        };

        // Filter features with city names
        const validCapitals = capitals.features.filter(feature => feature.properties.city);

        // Variable to store the current marker
        let currentMarker = null;

        function selectRandomCapital() {
            // Remove previous marker if exists
            if (currentMarker) {
                map.removeLayer(currentMarker);
            }

            // Select random capital
            const randomFeature = validCapitals[Math.floor(Math.random() * validCapitals.length)];
            const coords = randomFeature.geometry.coordinates;
            const country = randomFeature.properties.country;
            const city = randomFeature.properties.city;

            // Update map view
            map.setView([coords[1], coords[0]], 12);

            // Add marker with popup
            currentMarker = L.marker([coords[1], coords[0]])
                .addTo(map)
                .bindPopup(`<b>${city}</b><br>${country}`)
                .openPopup();

            // Update info text
            document.getElementById('info').textContent = `${city}, ${country}`;
        }
    </script>
</body>
</html>
